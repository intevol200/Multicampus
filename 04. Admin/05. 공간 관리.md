---
__목차__
1. [블록 공간 관리](#1-블록-공간-관리)  
2. [세그먼트](#2-세그먼트)  
    2.1. [테이블 압축](#21-테이블-압축)  
    2.2. [세그먼트 축소](#22-세그먼트-축소)
---

## 1. 블록 공간 관리
* 비트맵으로 사용 가능한 공간 관리 및 자동 데이터 파일 확장
    - 1과 0으로 구성된 비트값으로 사용량 측정
    - 하나의 비트맵이 여러 블록을 관리
* 사전 공간 관리 (임계값이 설정되어 서버에서 ALERT 알림 전송)
    - PCTFREE : 여유 공간 설정 (% 단위)
* 공간 회수 (비효율적으로 사용되는 부분 확인 후 공간 확보)
* 용량 계획 (증가 예측보고서)


## 2. 세그먼트
* 세그먼드 헤더에 FREE LIST가 있어서 그에 따라 공간을 채워나감
* 세그먼트에서 비트맵으로 추적됨
    - 더욱 유연한 공간 활용
    - 런타임 조정
    - BMB(Bitmap Block)의 다중 프로세스 검색

* 세그먼트 유형
    - 테이블 및 클러스터 세그먼트
    - 인텍스 세그먼트
    - 언두 세그먼트
    - 임시 세그먼트

### 2.1. 테이블 압축
* 모든 데이터를 압축하여 저장 영역 비용 절감
    - 기본 압축(DIRECT-PATH) : 최대 10배까지 압축
        + CREATE TABLE... COMRESS BASIC...;
        + 데이터 웨어하우스 대량 로드에 적합
        + 블록의 연속 사용 가능 공간 최대화
    - 고급 압축(DML) : 2 ~ 4배까지 압축
        + CREATE TABLE... ROW STORE COMPRESS ADVANCED...;
        + 활성 OLTP 환경에 적합


### 2.2. 세그먼트 축소
* 세그먼트가 비효율적으로 사용(분산되어 사용)되고 있는 부분을 합치도록 하여 낭비되는 공간이 없도록 함 == 디스크 조각모음
```SQL
ALTER TABLE employees SHRINK SPACE COMPACT;

-- HWM(High-Water Mark) : 데이터 수위점까지 조정
ALTER TABLE employees SHRINK SPACE;
```

* 축소 작업의 결과
    - 성능 및 공간 활용 향상
    - 인덱스 유지 관리
    - 트리거가 실행되지 않음
    - 이전된 행의 수가 줄어듦