## LOCK
* 다중 세션에서 동일한 데이터를 동시에 변경하는 것을 방지
    - 여러 사용자가 동시에 DML 작업을 실행하는 경우 데이터 일관성이 훼손될 가능성을 배제하기 위함
* 주어진 명령문을 통해 가장 낮은 레벨에서 자동으로 획득

#### LOCK 매커니즘
* 높은 레벨의 데이터 동시성
    - 삽입, 갱신, 삭제에 대한 행 레벨 LOCK
    - 쿼리에 LOCK이 필요 없음
* 자동 큐 관리
* 트랜잭션이 종료될 때까지 LOCK 획득

#### DML LOCK
* 각 트랜잭션은 두 개의 LOCK이 걸림
    - 갱신 중인 행에 대한 행 잠금
    - 테이블을 보호하기 위한 테이블 잠금

#### LOCK 충돌
| 트랜잭션1 | 시간 | 트랜잭션2 |
|---|:---:|---|
| UPDATE SET | 9:00:00 | UPDATE SET |
| Lock 충돌로 세션이 enqueue된 상태로 대기 | 9:00:05 | SELECT sum(salary) |
| 세션 대기 | 16:30:00 | DML 작업이 많았지만 커밋이나 롤백 하지 않음 |
| 1 row updated. | 16:30:01 | commit; |

* LOCK 충돌 유발 원인
    - 커밋되지 않은 변경 사항
    - 장기 실행 트랜잭션
    - 필요 이상으로 높은 LOCK 레벨

* LOCK 충돌 해결
    - LOCK을 보유하는 세션을 커밋 또는 롤백
    - LOCK을 보유하는 세션 종료
```SQL
ALTER SYSTEM KILL SESSION '144,8982' immediate;
 ```
